<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Garbage Reporting Platform</title>
    <link rel="stylesheet" href="/style.css">
    <script src="xssProtection.js" defer></script>
    <script src="dashboard.js" defer></script>
    <script src="admin-dashboard.js" defer></script>
    <script src="/home.js" defer></script>
    <link rel="stylesheet" href="/dashboard-inline.css">
</head>

<body>
    <header>
        <div class="logo-container">
            <h1>Garbage Reporting Platform</h1>
            <p>Admin Dashboard</p>
        </div>
        <div class="auth-buttons">
            <a href="/" class="btn-auth btn-login">Home</a>
            <a href="/map" class="btn-auth btn-login">Overview</a>
            <a href="/manage-recycle-points-loader" class="btn-auth btn-login">Manage Recycle Points</a>
            <a href="#" id="logout" class="btn-auth btn-logout">Logout</a>
        </div>
    </header>

    <main>
        <section class="hero">
            <h2>Admin Dashboard</h2>
            <p>Manage reports, users, and export data.</p>
        </section>

        <section class="dashboard-section export-section">
            <h3>Data Export</h3>
            <div class="dashboard-form">
                <div>
                    <label for="exportType">Export Type:</label>
                    <select id="exportType" class="round-edge">
                        <option value="county">County Report (by Locality)</option>
                        <option value="locality">Neighbourhood Report (by Suburb)</option>
                    </select>
                </div>

                <div id="countySelection">
                    <label for="countyDropdown">Select County:</label>
                    <select id="countyDropdown" class="round-edge">
                        <option value="">Choose a county...</option>
                    </select>
                </div>

                <div id="localitySelection" style="display: none;">
                    <label for="localityDropdown">Select Locality:</label>
                    <select id="localityDropdown" class="round-edge">
                        <option value="">Choose a locality...</option>
                    </select>
                </div>

                <div class="date-row">
                    <div>
                        <label for="startDate">From Date:</label>
                        <input type="date" id="startDate" class="round-edge">
                    </div>
                    <div>
                        <label for="endDate">To Date:</label>
                        <input type="date" id="endDate" class="round-edge">
                    </div>
                </div>

                <div>
                    <label for="formatDropdown">Export Format:</label>
                    <select id="formatDropdown" class="round-edge">
                        <option value="pdf">PDF Report</option>
                        <option value="csv">CSV Data</option>
                    </select>
                </div>

                <button id="exportReportBtn" class="btn-primary export-btn" disabled>
                    Export Report
                </button>
            </div>
        </section>


        <section class="dashboard-section">
            <h3>Users Management</h3>
            <div class="table-container">
                <table id="users-table" class="dashboard-table">
                    <thead>
                        <tr>
                            <th>Username</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="users-tbody">
                        <tr>
                            <td colspan="4" class="loading-cell">Loading users...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="dashboard-section">
            <h3>Reports Management</h3>
            <div class="table-container">
                <table id="reports-table" class="dashboard-table">
                    <thead>
                        <tr>
                            <th>County</th>
                            <th>Locality</th>
                            <th>Category</th>
                            <th>Severity</th>
                            <th>Description</th>
                            <th>Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="reports-tbody">
                        <tr>
                            <td colspan="7" class="loading-cell">Loading reports...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <footer>
        <p>&copy; 2025 Garbage Reporting Platform</p>
        <p>Working together for cleaner neighborhoods</p>
    </footer>
</body>

</html>